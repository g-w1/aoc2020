const std = @import("std");
pub fn main() void {
    one();
    two();
    std.debug.print("deter(1,2) = {}", .{deter(3, true)});
}
fn two() void {
    comptime var x = 0;
    comptime {
        x = deter(1, false) * deter(3, false) * deter(5, false) * deter(7, false) * deter(1, true);
    }
    std.debug.print("two: {}\n", .{x});
}

fn one() void {
    comptime var trees_hit = 0;
    comptime {
        var x: u32 = 0;
        for (lines) |line, y| {
            if (line[x] == '#')
                trees_hit += 1;
            x += 3;
            if (x >= 31)
                x = (x - 31);
            // @compileLog(y);
        }
    }
    std.debug.print("TREES_HIT: {}\n", .{trees_hit});
}

fn deter(rize: u8, run: bool) comptime_int {
    // @compileLog(rize);
    comptime var trees_hit = 0;
    @setEvalBranchQuota(10000);
    comptime {
        var x: u32 = 0;
        var y: u32 = 0;
        var tog = false;
        while (true) {
            if (y >= lines.len)
                break;
            if (lines[y][x] == '#')
                trees_hit += 1;
            tog = false;
            x += rize;
            if (x >= 31)
                x = (x - 31);
            if (run) {
                y += 2;
                continue;
            }
            y += 1;
        }
    }
    // @compileLog(trees_hit);
    return trees_hit;
}

const lines = [_][]const u8{
    "....#............#.###...#.#.#.",
    ".#.#....##.........#.....##.#..",
    ".#..#.#...####.##..#......#..##",
    "......#...#...#.......#........",
    "........#...###..#.#....#....#.",
    "..##.....#.....#.#.........#.#.",
    ".##.......#.#.#...#..#...##...#",
    "...##.....#....##....#...###.#.",
    "..#...#......##.#.##.....#.#..#",
    ".#....#.###.........#..........",
    ".#.#..##.....###.....###....#.#",
    "....###....#......#...#......##",
    "......##...#.##.........#.#..#.",
    "##.#....##...#..##....#.#..#.##",
    ".#...#..#.....#.#.......#...#..",
    "..........#..###.###......##..#",
    "..#.##.#..#......#.......###.#.",
    "...#...#.#.#..#...#.#..........",
    "#........#..#..#.#....#.##..###",
    "#...#.....#..####.........####.",
    ".....###..........#.#...##...#.",
    ".....#...#..#.......#....##.#..",
    "...........#..##.....#...#..#..",
    "......##..#........#...........",
    "#.#..#.#.#..#.....#....#.....#.",
    "..#....##....##...#.....#......",
    ".#.#....#..#.#......#..###...#.",
    ".......#...#.#....##..#..#..#..",
    ".#.#.#.......#....#.#.#.......#",
    ".#..........#.##.#...#..#.#.##.",
    "..#.#..........#.#....##.#.##..",
    "###..#..#.#...##.#.#..#........",
    "##....#...#....#....#...#.#....",
    "#...#.#....#.##..##...#.#......",
    "......#...#.###......##....#...",
    ".................#.###......#..",
    "##..#....#....##...###.#.#..###",
    "..#..........#..####..##..#...#",
    ".#......#..#.#...........##.#..",
    ".#..#......#...#.#.#..#.#.#.#.#",
    ".#......###.....#.#.#......##..",
    "#..........#.##...#...........#",
    "..#....#.##....#.........#.....",
    ".#..##....#...##.........#..#..",
    "....##..#.###..#.#...#..###..#.",
    "..#......#........#...#.#......",
    "........#..#..#..#...#.##......",
    ".##.#.#......#...#.........#...",
    "#..###.#...#....###.##..###....",
    "........##.............#....#..",
    "...#...............#....#.#....",
    "#..........#..#..#.#.....#...#.",
    ".#.............#...#.......#..#",
    ".#..#..#...#........##.........",
    ".....#.#..#.#..#..##.........#.",
    "..#..##...#....#.#...#.###..#..",
    "#...........##.....#...#.##....",
    "#.#.#.#........##......#...#.#.",
    "......#..#.###.#...#.##.##....#",
    ".#....#...#....#........#....#.",
    "..#.#..........#..##.......#..#",
    ".....#...##..#................#",
    ".#...............##...#.##...##",
    "#.####....##.....#.......#.##..",
    "......#.##.#...##..###..#.#....",
    ".#.##.#...##..#.......#.#..#...",
    "#...#.##..........##..........#",
    "#.###...#...#..#.....#.#.##..##",
    ".##.....#....#...##.....##.....",
    "...#........#..###.###...#.....",
    "##..#....#.....#...#.#....#.#..",
    "#....#....#.#..........#...#..#",
    "...##..#......#..#..#..#..#....",
    ".....##...#..####..##.........#",
    ".....#..#.#...#..#....##..##...",
    "..#.......##.#..#.##...#.#....#",
    ".#..#.#...##..##....#..#......#",
    "..##.##..##...###..#....#...#..",
    "........##.......##...##.....##",
    ".#....###...#..#..#..#.......#.",
    "#.###............#....##.....#.",
    "..........#...#...##..#...#....",
    "..#......#.##.......#....##..##",
    "..#..###.....#...#.......#.....",
    "#.#...##.....#...#....#.......#",
    "....##.##.#....#.....#.#....#..",
    "...#....#.###............#..###",
    "#..##..#.........##.....#.#...#",
    "....#.......##......#....#...#.",
    "....#..##.#..........#.........",
    "....#...#.###.......#...#.#....",
    "#..#..#...#.......##...#..#.##.",
    "#.......#...##.##......#.......",
    "##..##...##...#......#...#...##",
    "..#...#.#.####.#...##.....##...",
    "#...#..#..#...##......#.#..#..#",
    "..##..##.#.#..#...####.....###.",
    ".#........#..##.###...#.##.#...",
    "........#..#...##......#.#....#",
    "..#...###.......##..##..#....#.",
    ".##...#.#..#.##.......##.###...",
    "#....#.#.#........#....#..#.##.",
    "....#.##.#.##..#.#####.....###.",
    "#.#..#..#...#.#..#.......#.#...",
    "....#...#....###...............",
    ".###.#.....#.#.......###......#",
    "##...#.#.###....##..#...##.....",
    "...#.#..#.###.#.......#...#.#..",
    ".#...#....#...#..####....###...",
    "..#....##.....##.#.#.##....#...",
    "#....#..##.......#...##.##....#",
    ".##..#.......#..#....###.......",
    "#.##.....##.#.........#......##",
    ".####.#...#.....#..#...#.##..#.",
    "....#...........#.....#........",
    ".#............##...#.......#.#.",
    "#....#.##........#....#.#..#..#",
    "#....#.##....#...##...#..#..#..",
    "...#..#.####.#....#............",
    "....#......#.........#.........",
    "#....##....###.....#......#.#..",
    "...#..#....#........###..#...#.",
    "..#.#........#.#.#.###..#.#.#..",
    ".....###.....##.#....###.#.....",
    "##.#....#....##...##.###.#.##..",
    ".###.#..#.......##...#...##....",
    ".#...###........#.......##.##..",
    "#......####...#...##.#.######..",
    "....##.............#..##.##...#",
    "...........#..##.#...#.#.#...#.",
    "###.......#.##..#....#...#....#",
    ".........#.....#.#.#..##.#.....",
    "#...##..#....#..#.............#",
    "...#.......#.##.............#.#",
    ".....#..#...##......####..#....",
    ".#.#.#.....#...####..#...##...#",
    "#...#.#..#..#.#..#.##..........",
    ".....#.##..#.#.##..#.#.#....#.#",
    "...##..#...#...#..#....#.......",
    "........#.#..#...#...#.#...#...",
    "##..#........#..#.....#......##",
    ".........#..#...#......#......#",
    "..#.#.#........##...#.##.....##",
    ".###....##....#...#....#..#....",
    ".#.............###...#..##..###",
    ".##.##.##.......###.........#.#",
    "..#..###...#...#....#..#.#..#.#",
    "......#..#.#..#.....#.#........",
    "......#...####...#.#.....#.....",
    ".#...##.......#..#......#...#..",
    "#..#...#.......###..#..#.#.#.#.",
    ".....#.....###.##....#.#.##.#.#",
    "#........#....##...#..#.##..#..",
    "...#.#........##....#.#..###.#.",
    "#...#...##.........#........###",
    "##...#.##..##...#.....#.###.#..",
    "#.###.#.#..#...........##..#...",
    "........#.......#..#..#.###....",
    "#........#....#......###.......",
    "..#.###.######...#.###..#......",
    "...#...######..#.....#....#.#..",
    "..#.......#..#..#.........#...#",
    ".#...#..##.##.........##.......",
    ".........#.#.##.#..#....#.#...#",
    "#.......#....#......#.....###.#",
    "##..............#.###........#.",
    "..#.##..#.##.....#...#.#.#..###",
    "..#.#......#..#..##.#........#.",
    "..#.....#...#.#...#...###..#.#.",
    ".......#...........#..#..#.#.##",
    ".......#...##..#.###...........",
    ".#........#.###.#..#..#..#..#..",
    "##.#.##....#..###..#.##.##...#.",
    ".....#....##.#........#.#.#....",
    "....##....#..#..#....##....#.#.",
    "#.....##....#.....#.###.#....#.",
    ".#.##.##..#..#...#...........##",
    "...#..###..#.....##....#.......",
    "...#..##..###.#..#..#.#........",
    "......##..#.......#..##.....###",
    ".#...##.#.#.#......#...#.#.#.##",
    "....#.#....#...#........#...#..",
    "....#.#......#.#.###.#.#.##.#..",
    "#..#........###..#..#..#.....#.",
    "...#....#...##...#........##.##",
    ".....#..#..#.....#....#.#...#..",
    "..#.###....#.#..##......#.##.#.",
    "..####......#..#.#.#..#.#####..",
    ".......##..#..###.#............",
    "..###.#........#..........##.##",
    "#.#.........#.##.#......#..#...",
    "...#.....#.....##..#..##.##..#.",
    "#.#.##....#.......###....##....",
    "...##.#..#...##.#..#......#..#.",
    "..##.........#.##.#####...#.#..",
    ".#....#...#....#.#.....##...###",
    "##.....#..####............###.#",
    "......#...........#....#.......",
    ".#......#.....##...........###.",
    "#......##.......#.#.#..##.....#",
    "...###.#.....##.#...#.#....#.#.",
    "...###.......#...#.............",
    "..#..#.#....#.#.###.#.#.##..##.",
    "..##...#..#.#..##.#.##....##...",
    "..#...........#..#....#....#...",
    "#.##...........#..#.#..##.#.#..",
    "...##...##................#..#.",
    ".#...#.##......#.#......#.####.",
    "#.##....#....#.........#....###",
    ".....###........#.#.#.##...#.##",
    ".....#....#.#....#.........#..#",
    "..#...#.#.#.#...#...#...##.#..#",
    "###.......#.....#.............#",
    "#.####.#.......#.#.#.#..#.#....",
    "#..#..#####......#....#..##....",
    "...............#.....#.#....###",
    ".###.....#...#.##..#.#..#.#####",
    "#.##.....#......##.......##....",
    "..........###.......#...#.#....",
    "..#.#..#...##.....#........#.#.",
    "........##.##....#####.#.#..##.",
    "..##.#.#...#####..........#.#.#",
    "#.........#......##...#.....#..",
    ".##.#........#...#..##...#...#.",
    ".......##..#...#.....#.##......",
    "....#.#...##..##..#....##......",
    "#........#..........##..####.#.",
    "...###...#.#.###.#...#....#.#.#",
    ".....##.#.....#........#.#....#",
    "#.......#....#...##..#......#..",
    "...#..........#.#.#...#.#.###.#",
    "....##.....#.##..#.#.#.........",
    "#.##..##..#....#.........#...#.",
    ".###..........#...##.#..#......",
    ".....####.............##...###.",
    ".#..#....#..#...#..#...........",
    "#..#..##..#...#.##..#.###.#...#",
    "......#.#..###...#..#.....#..#.",
    "##.##......#...#.#...#.........",
    "....##.#.......#.#..##....#.#.#",
    "#..##..#...###.#....##.........",
    ".............#.#....#...##..#..",
    "..#....#...#.....#.##.#..##..##",
    "##.#..##.#..##.#.#.##.#...#.#..",
    ".##.#..#.#........##.#...##....",
    "#.........##....##..#......#...",
    ".#.#.......##...#..#......###.#",
    "........#.#.#.#......#....#..#.",
    "...##..#...#...#.##..#....#.#..",
    "...#.#.#.#.......#.......###..#",
    "...#..##..#####.#.....##.#..#..",
    ".......#.#.....#.....#...#...##",
    "#...#...#......##.#....##......",
    "#.....#.#.#.....#....#......#..",
    "..#..#.##.#......##..#.#..#..##",
    "####...#.....#....#.#..........",
    "....#.....###...#...##......#..",
    ".....#....#...#............#...",
    "...#...#..##.........#...#...##",
    "#.#..#.#...##.#.......#..#.#...",
    ".#.....#...##.............#...#",
    ".....#..##..#....#......#.##..#",
    "....#...###.................#..",
    "...###...#....#...#...#........",
    "....#.##.#.......#..#..........",
    "...#..#......#.#...###...#.#...",
    "..#.#..#...#.......#.......#.#.",
    ".#.#...#.#.##........#.........",
    "...#..#...#....#.#.#.#.#..###..",
    ".#..##......#.#.##..#.##....#..",
    "#....#.......##.....#.#........",
    "..###..#.#.#.......##....#.....",
    "........#.#.#....##...##..#....",
    "#....##.#....#...##..##...#....",
    "...#..##.#.....#...#.....##....",
    ".#.#..#..#...#....#..##.#....#.",
    "##.#.##....#.....#....#....#.#.",
    ".##......#............##...#...",
    "#..##.#.####.#.#....#..#..#.#.#",
    "#...##...#......##....###.....#",
    "..#.##.....#....#....#......#..",
    ".##.#...#.....#.#.#.#........##",
    ".#..#....#.#...........#...#...",
    "#.....#..#.....#.#.##.#.....#..",
    "....#.....#..#.#....###........",
    ".....###...........#.#..##.#.#.",
    "....###....#.......###..#...#.#",
    ".###.....#...##.#...##........#",
    "..#..#.#..#...#.#...#.#..#...#.",
    "#.####.......#....##.#..#.#..#.",
    "....#.#.##.#..###.........##.#.",
    "..#..#.#....#....#.##..........",
    "..##.###..#.#..#.#......#....#.",
    ".#..#.....##...#.#......##.#..#",
    "#.#....#..#.#.#........#.###...",
    "...#....##....##..###.###.#.#..",
    "..#....#.....#....##.#.........",
    "#.......#....#.........##..#...",
    ".#..#...#.#..#.#....#.#........",
    "...#..###...#.....#......##....",
    "..#...........#.....#..........",
    "....###.#...#......#...#..#....",
    ".....#.##..#..#....#.......#..#",
    "....##..#.#.#..............#.#.",
    ".#.#..#..#.#......#...#.#......",
    "....#.......#.##....##.#.#.#..#",
    "............#.#.#.....##.......",
    "........#...##.#..#......#...##",
    ".........#...#...#....#...#.##.",
    "..#.....#......#......#.....#..",
    "#....#...##..#.#....#.#...#.###",
    ".......#..#..#..#.#...#.....#.#",
    "...#.#...#......##.....#..#....",
    "...#.#.####..##.#..#...........",
    "..##..##....#.....####...#....#",
    "###.......#...##.#...#...#...#.",
    ".##..#.....#..####......#....#.",
    "#.....#..#..##..##...#..#..#...",
    ".#....#.....#...####..####.....",
    "..#....#...#......#........#.#.",
    "##.#.......#..#.....#..##..##..",
    ".#..#..#.#.#...#....##...#.##.#",
    "##...#..#....#.........##......",
};
